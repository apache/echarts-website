(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{313:function(e,n,t){"use strict";t.r(n),n.default='# Apache ECharts 5.5.0 Features\n\n## Enhanced ESM Support\n\nThis feature is a significant change to the default ESM package, specifically designed for developer testing and Node.js usage in module customization scenarios.\n\nPreviously, ECharts only exported `*.esm` files in npm (in the lib directory of the npm package). While this worked well in bundlers, it didn’t perform as well in the Node.js runtime and some Node.js-based testing frameworks like vitest and jest.\n\nWith this new feature, we’ve made several changes to improve this:\n\n- Added `"type": "module"` to package.json\n- Added `"exports": {...}"` to package.json\n- Added some `package.json` files to the sub-directory, which only contain `"type": "commonjs"`.\n\nThese changes mean that files like `echarts/core.js` can now be resolved as ESM in environments like pure Node.js, vitest, jest, and create-react-app.\n\nPlease note that if using `"exports"`, the files that are not declared in "exports" will be invisible from outside any more. Also, the path must start with `\'.\'`.\n\nWe’ve also ensured that this new feature is compatible with a variety of environments, including runtime (node/vitest/jest(create-react-app)/ssr/…) and bundlers (webpack/rollup/vite/esbuild/…).\n\nWe’re excited about this new feature and believe it will significantly improve the developer experience.\n\n## Server-Side Rendering + Lightweight Client Runtime\n\nStarting from Apache ECharts 5.3, we support a server-side SVG string rendering solution with zero dependencies, which also supports the initial animation of the chart. However, if you need to implement some interactions on the client side, you need to load the complete ECharts, which may increase the page loading time. For some scenarios that require high page loading speed, this may not be an ideal choice.\n\nIn version 5.5.0, we added a lightweight client runtime, so the client can implement some interactions without loading the complete ECharts. In this way, we can render the chart on the server side and then load the lightweight runtime on the client side to implement some common interactions. This means that you no longer need to load about 1MB of the complete ECharts package, but only need to load about 4KB of the lightweight runtime. This improvement will greatly improve the page loading speed, especially for the mobile experience.\n\nIf you need to use this solution, the server-side code remains the same, but you need to make sure that the ECharts version is above 5.5.0.\n\n```ts\n// Server-side code\nconst echarts = require(\'echarts\');\n\n// In SSR mode the first container parameter is not required\nconst chart = echarts.init(null, null, {\n  renderer: \'svg\', // must use SVG rendering mode\n  ssr: true, // enable SSR\n  width: 400, // need to specify height and width\n  height: 300\n});\n\n// use setOption as normal\nchart.setOption({\n  //...\n});\n\n// Output a string\nconst svgStr = chart.renderToSVGString();\n\n// If chart is no longer useful, consider dispose it to release memory.\nchart.dispose();\nchart = null;\n\n// Response to the browser (using Express.js as example):\nres.writeHead(200, {\n  \'Content-Type\': \'application/xml\'\n});\nres.write(svgStr);\nres.end();\n```\n\nThe client adds the obtained SVG string to the container and binds the lightweight runtime:\n\n```html\n<div id="chart-container" style="width:800px;height:600px"></div>\n\n<script src="https://cdn.jsdelivr.net/npm/echarts/ssr/client/dist/index.js"><\/script>\n<script>\nconst ssrClient = window[\'echarts-ssr-client\'];\n\nlet isSeriesShown = {\n  a: true,\n  b: true\n};\n\nfunction updateChart(svgStr) {\n  const container = document.getElementById(\'chart-container\');\n  container.innerHTML = svgStr;\n\n  // Use lightweight runtime to give the chart interactive capabilities\n  ssrClient.hydrate(main, {\n    on: {\n      click: (params) => {\n        if (params.ssrType === \'legend\') {\n          // Click the legend element, request the server for secondary rendering\n          isSeriesShown[params.seriesName] = !isSeriesShown[params.seriesName];\n          $.get(\'...?series=\' + JSON.stringify(isSeriesShown)).then(svgStr => {\n            updateChart(svgStr);\n          });\n        }\n      }\n    }\n  });\n}\n\n// Get the SVG string rendered by the server through AJAX request\n$.get(\'...\').then(svgStr => {\n  updateChart(svgStr);\n});\n<\/script>\n```\n\nThe lightweight client runtime must be used in conjunction with the server-side rendering results in SVG format, supporting the following interactions:\n\n- Initial animation of the chart (implementation principle: the SVG rendered by the server has CSS animation)\n- Highlight style (implementation principle: the SVG rendered by the server has CSS animation)\n- Dynamically change data (implementation principle: the lightweight runtime requests the server for secondary rendering)\n- Click the legend to toggle whether the series is displayed (implementation principle: the lightweight runtime requests the server for secondary rendering)\n\nAs you can see, this can satisfy most interactive scenario needs. If more complex interactions are needed, the client needs to load `echarts.js` to implement complete functionality. For a complete introduction, please refer to [Server-side Rendering ECharts Charts](${handbookPath}how-to/cross-platform/server).\n\n## Data Drilldown Supports Transition Animation\n\nIn version 5.5.0, we added the `childGroupId` configuration item, which can realize the transition animation function of data drilldown.\n\nIn previous versions, we already support using `groupId` to represent the group to which the current data belongs. The newly added `childGroupId` can be used to express the group of the current data itself, forming a "parent-child-grandchild" relationship chain after being used in conjunction with `groupId`. When the user clicks on the data element in the chart, the chart will display the drilled down data in the form of transition animation.\n\n<md-example src="bar-multi-drilldown" width="100%" height="400" />\n\nDevelopers only need to specify `groupId` and `childGroupId`, and ECharts will automatically handle the hierarchical relationship and realize the transition animation.\n\n## Pie Chart Supports Gaps Between Sectors\n\nBy setting gaps between the sectors of the pie chart, the data blocks of the pie chart can be clearer and form unique visual effects. See ([graphic](${optionPath}series-pie.padAngle)).\n\n<md-example src="pie-padAngle" width="100%" height="400" />\n\n## Pie Chart and Polar Coordinate System Support End Angle\n\nThe end angle configuration item allows us to make incomplete pie charts such as semi-circles. See ([series-pie.endAngle](${optionPath}series-pie.endAngle)).\n\n<md-example src="pie-half-donut" width="100%" height="400" />\n\nThe polar coordinate system also supports the end angle, which can create more diverse polar coordinate charts. See ([angleAxis.endAngle](${optionPath}angleAxis.endAngle)).\n\n<md-example src="polar-endAngle" width="100%" height="400" />\n\n## Added `min-max` Sampling Method\n\nThe ECharts [sampling](${optionPath}series-line.sampling) configuration item allows for setting the downsampling strategy for line charts when the amount of data is far greater than the number of pixels, which can effectively optimize the drawing efficiency of the chart. In version 5.5.0, we added the `min-max` sampling method, which can display the extremes of the data more accurately while retaining the overall trend of the data.\n\n## Added Two Languages: Arabic and Dutch\n\nIn version 5.5.0, we added support for two languages, Arabic (AR) and Dutch (NL). Developers can register new language packs through the [echarts.registerLocale](~echarts.registerLocale) method.\n\n## Tooltip Supports Specifying Container\n\nIn previous versions, the Tooltip could only be inserted into the chart container or `document.body`. Now, you can specify the container through [tooltip.appendTo](${optionPath}tooltip.appendTo), so you can control the position of the tooltip more flexibly.\n\n## Alignment Mode of Maximum and Minimum Labels on Axis\n\nIn version 5.5.0, we added [axisLabel.alignMinLabel](${optionPath}xAxis.axisLabel.alignMinLabel) and [axisLabel.alignMaxLabel](${optionPath}xAxis.axisLabel.alignMaxLabel) configuration items, which can control the alignment mode of the maximum and minimum labels on the axis. If the drawing area of the chart is relatively large and you don\'t want the axis label to overflow, you can align the maximum and minimum labels to the right and left, respectively.\n\n## Pictorial Bar Chart Supports Clipping\n\nThe pictorial bar chart may exceed the drawing area. If you want to avoid this, you can clip it through the [series-pictorialBar.clip](${optionPath}series-pictorialBar.clip) configuration item.\n\n## Tooltip `valueFormatter` Adds `dataIndex` Parameter\n\n`valueFormatter` can be used to customize the value part of the tooltip content, and now an `dataIndex` parameter has been added, which can be used to obtain the index of the current data.\n\n## Full Changelog\n\nView the [Changelog](${mainSitePath}/changelog.html#v5-5-0)\n'}}]);